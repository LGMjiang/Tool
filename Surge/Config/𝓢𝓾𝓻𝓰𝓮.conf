# ä¿®æ”¹æ¬è¿è‡ªå„ä½å¤§ä½¬@Repcz,@RuCu6,@blackmatrix7ç­‰ç­‰ï¼Œæ„Ÿè°¢å„ä½å¤§ä½¬ï¼
# last updated: 2025/02/14

[General]
# æ—¥å¿—çº§åˆ«
loglevel = notify
show-error-page-for-reject = true
# æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 10
# Internet æµ‹è¯• URL
internet-test-url = http://connectivitycheck.platform.hicloud.com/generate_204
# internet-test-url = http://www.apple.com.cn
# ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://1.1.1.1/generate_204
# proxy-test-url = http://www.apple.com/library/test/success.html
# UDP æµ‹è¯• URL
# proxy-test-udp = www.apple.com@64.6.64.6
# GeoIPæ•°æ®åº“
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# æŽ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# DNS æœåŠ¡å™¨
# dns-server = system
dns-server = 223.5.5.5, 119.29.29.29
# DNSåŠ«æŒ
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# hijack-dns = *:53
# è¿œç¨‹æŽ§åˆ¶å™¨
http-api-web-dashboard = false
# Always Real IP Hosts
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com*.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net
# åŠ å¯†DNS
encrypted-dns-server = https://dns.alidns.com/dns-query, https://doh.pub/dns-query
# encrypted-dns-server = https://doh.pub/dns-query
# encrypted-dns-server = https://dns.google/dns-query
# encrypted-dns-server = https://cloudflare-dns.com/dns-query
# encrypted-dns-server = https://dns.adguard.com/dns-query
# encrypted-dns-server = https://public.dns.iij.jp/dns-query
# å®žéªŒæ€§ DNS ove QUIC æ”¯æŒ
# encrypted-dns-server = quic://dns.adguard.com
# encrypted-dns-server = h3://223.5.5.5/dns-query
# UDPå›žé€€è¡Œä¸ºï¼Œå½“èŠ‚ç‚¹ä¸æ”¯æŒUDPæ—¶ï¼Œé»˜è®¤fallback åˆ°reject
udp-policy-not-supported-behaviour = REJECT
hide-vpn-icon = true
udp-priority = false
# skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local, www.baidu.com, yunbusiness.ccb.com, www.abchina.com.cn, login-service.mobile-bank.psbc.com, mobile-bank.psbc.com

[Proxy]

[Proxy Group]
Proxy = select, ðŸ‡­ðŸ‡°HK, ðŸ‡¯ðŸ‡µJP, ðŸ‡¸ðŸ‡¬SG, ðŸ‡ºðŸ‡¸US, ðŸ‡¨ðŸ‡³TW, FacMata, Surge, Node, Pro, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/final01.png

# Social Media = select, Hong Kong, United States, Singapore, Taiwan, Japan, Proxy, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/apps/Apple_Messages.png

# Apple = select, DIRECT, Hong Kong, United States, Singapore, Taiwan, Japan, Proxy, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Apple.png

# Microsoft = select, DIRECT, Hong Kong, United States, Singapore, Taiwan, Japan, Proxy, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Microsoft.png

# Final = select, Hong Kong, United States, Singapore, Taiwan, Japan, Proxy, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png

OpenAI = select, "ðŸ‡ºðŸ‡¸ByteVirt ðŸ…’", "ðŸ‡ºðŸ‡¸ByteVirtá´¾ ðŸ…’", "ðŸ‡ºðŸ‡¸ByteVirt ðŸ…‘", policy-regex-filter=^(?=.*((?i)ðŸ‡ºðŸ‡¸|ç¾Žå›½|(\b(US|USA|United States)\b)))(?!.*((?i)åŠ«æŒ|Lite|lite|LITE|Home|home|HOME|IEPL|iepl|Emby|EBMY|((0\.\d)|(\d\.0)))).*$, no-alert=1, hidden=0, include-all-proxies=0, include-other-group=FacMata, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/chatgpt.png

Surge = smart, "ðŸ‡­ðŸ‡°Halo ðŸ…’", "ðŸ‡­ðŸ‡°Akile-SM ðŸ…’", "ðŸ‡­ðŸ‡°Akile-BGP ðŸ…’", "ðŸ‡­ðŸ‡°Akile-Lite ðŸ…’", "ðŸ‡­ðŸ‡°Haloá´¾ ðŸ…’", "ðŸ‡­ðŸ‡°Akile-SMá´¾ ðŸ…’", "ðŸ‡­ðŸ‡°Akile-BGPá´¾ ðŸ…’", "ðŸ‡­ðŸ‡°Akile-Liteá´¾ ðŸ…’", no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/surge_mini1.png

Node = select, no-alert=0, hidden=0, include-all-proxies=1, policy-regex-filter=.*[ðŸ…’ðŸ…‘].*, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/Auto02.png

Pro = select, update-interval=0, no-alert=0, hidden=0, include-all-proxies=1, policy-regex-filter=^(?!.*ðŸ…’)(?!.*ðŸ…‘).+$, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/Sub-Store_White.png, policy-path=https://substore.vocrx.com/share/sub/vocrxshare?token=dUbe9sF3sjEvAHq8HYWJb

# TikTok = select, Japan, Singapore, United States, Taiwan, ACA, Surge Pro, Proxy, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TikTok.png

# YXHC = select, policy-path=, update-interval=0, policy-regex-filter=^(?=.*(.*))(?!.*((?i)é‚€è¯·|è¿”åˆ©|å¾ªçŽ¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|åœ°å€|èŽ·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|å¯¼èˆªé¡µ|å¯¼èˆª|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|è´©å–|å€’å–|é˜²æ­¢|å›½å†…|é«˜å€çŽ‡|é˜²å¤±è”|äºšæ´²åœ°åŒº|åŒ—ç¾Žåœ°åŒº|ä¸­ä¸œ|Remain|Next|ðŸŽ®|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL|Panel)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/deezertidal/private/main/icons/others/byg.png

Emby = select, FacMata, Node, Pro, Surge, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=FacMata, policy-regex-filter=Emby, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/emby.png

DMM = select, "ðŸ‡¯ðŸ‡µCheapHost ðŸ…’", "ðŸ‡¯ðŸ‡µCheapHostá´¾ ðŸ…’", "ðŸ‡¯ðŸ‡µCheapHost ðŸ…‘", ðŸ‡¯ðŸ‡µJP, Node, Pro, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/DMM2_White.png

FacMata = select, policy-path=, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Icon/FacMata_White.png

ðŸ‡­ðŸ‡°HK = smart, update-interval=0, policy-regex-filter=^(?=.*((?i)ðŸ‡­ðŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)åŠ«æŒ|Lite|lite|LITE|Home|home|HOME|IEPL|iepl|Emby|EBMY|((0\.\d)|(\d\.0)))).*$, no-alert=1, hidden=1, include-all-proxies=0, include-other-group=FacMata, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Hong_Kong.png

ðŸ‡¯ðŸ‡µJP = smart, update-interval=0, policy-regex-filter=^(?=.*((?i)ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|(\b(JP|Japan)\b)))(?!.*((?i)åŠ«æŒ|Lite|lite|LITE|Home|home|HOME|IEPL|iepl|Emby|EBMY|((0\.\d)|(\d\.0)))).*$, no-alert=1, hidden=1, include-all-proxies=0, include-other-group=FacMata, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Japan.png

ðŸ‡¸ðŸ‡¬SG = smart, update-interval=0, policy-regex-filter=^(?=.*((?i)ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)))(?!.*((?i)åŠ«æŒ|Lite|lite|LITE|Home|home|HOME|IEPL|iepl|Emby|EBMY|((0\.\d)|(\d\.0)))).*$, no-alert=1, hidden=1, include-all-proxies=0, include-other-group=FacMata, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Singapore.png

ðŸ‡ºðŸ‡¸US = smart, update-interval=0, policy-regex-filter=^(?=.*((?i)ðŸ‡ºðŸ‡¸|ç¾Žå›½|(\b(US|USA|United States)\b)))(?!.*((?i)åŠ«æŒ|Lite|lite|LITE|Home|home|HOME|IEPL|iepl|Emby|EBMY|((0\.\d)|(\d\.0)))).*$, no-alert=1, hidden=1, include-all-proxies=0, include-other-group=FacMata, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/United_States.png

ðŸ‡¨ðŸ‡³TW = smart, update-interval=0, policy-regex-filter=^(?=.*((?i)ðŸ‡¹ðŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)))(?!.*((?i)åŠ«æŒ|Lite|lite|LITE|Home|home|HOME|IEPL|iepl|Emby|EBMY|((0\.\d)|(\d\.0)))).*$, no-alert=1, hidden=1, include-all-proxies=0, include-other-group=FacMata, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Taiwan.png

[Rule]
# è§„åˆ™ä¿®æ­£
OR,((DOMAIN,passport.bilibili.com), (DOMAIN,mail.bilibili.com), (DOMAIN-SUFFIX,subhd.tv), (DOMAIN,dataflow.biliapi.com), (DOMAIN,ad.12306.cn), (DOMAIN,amdc.m.taobao.com), (DOMAIN,ca.iadsdk.apple.com)),DIRECT // è§„åˆ™ä¿®æ­£
# é˜²æ­¢TGåŠ è½½è½¬åœˆ
IP-CIDR,95.161.76.100/31,REJECT,pre-matching,no-resolve
# IP-CIDR,149.154.167.0/24,REJECT,pre-matching,no-resolve // DC5
# ç¾Žå›¢
OR,((DOMAIN,metrics-picture.d.meituan.net), (DOMAIN,route-stats.d.meituan.net), (DOMAIN,maplocatesdksnapshot.d.meituan.net), (DOMAIN,al-log.d.meituan.net), (DOMAIN,babel-statistics-android.d.meituan.net)),REJECT,pre-matching // å±è”½æŸ¥è¯¢å¤±è´¥åŸŸå
# OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,OpenAI // OpenAI @blackmatrix7
# P
RULE-SET,https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Rule/P.list,Proxy
# DMM
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/DMM/DMM.list,DMM
# PJ
RULE-SET,https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Rule/PJ.list,DMM
DOMAIN,cdn.up-timely.com,DMM // Added for: cdn.up-timely.com:443
# Emby-FacMata
RULE-SET,EmbyFacMata.list,DIRECT
# NonHKEmby(JMS,Nebula)
RULE-SET,NonHKEmby.list,"ðŸ‡¸ðŸ‡¬Claw ðŸ…‘"
# Emby
RULE-SET,https://raw.githubusercontent.com/LGMjiang/Tool/main/Surge/Rule/Emby.list,Emby
# E-Hentai,ExHentai
DOMAIN-SUFFIX,exhentai.org,ðŸ‡ºðŸ‡¸US
DOMAIN-SUFFIX,e-hentai.org,ðŸ‡ºðŸ‡¸US
DOMAIN-SUFFIX,hentaiverse.org,ðŸ‡ºðŸ‡¸US
DOMAIN-SUFFIX,ehwiki.org,ðŸ‡ºðŸ‡¸US
# Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Proxy // Telegram @blackmatrix7
# Twitter
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Proxy // Twitter @blackmatrix7
# Instagram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Instagram/Instagram.list,Proxy // Instagram @blackmatrix7
# YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,Proxy // YouTube @blackmatrix7
# Discord
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Discord/Discord.list,Proxy // Discord @blackmatrix7
# Facebook
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Facebook/Facebook.list,Proxy // Facebook @blackmatrix7
# Pixiv
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Pixiv/Pixiv.list,Proxy // Pixiv @blackmatrix7
# TikTok
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok // TikTok @blackmatrix7
# Reddit
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Reddit/Reddit.list,Proxy // Reddit @blackmatrix7
# GitHub
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,Proxy // GitHub @blackmatrix7
# Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Proxy // Google @blackmatrix7
# OP.GG
# DOMAIN-SUFFIX,op.gg,DIRECT
# DOMAIN,opgg-static.akamaized.net,DIRECT
# Pockyt
DOMAIN-SUFFIX,shop.pockyt.io,DIRECT
# Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All_No_Resolve.list,DIRECT // Apple @blackmatrix7
# Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,DIRECT // Microsoft @blackmatrix7
# Global
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_All_No_Resolve.list,Proxy // Global @blackmatrix7
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT
FINAL,Proxy,dns-failed

[MITM]
# > MITM over HTTP/2
h2 = true